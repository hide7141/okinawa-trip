<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FamilyVoyage 沖繩3天2夜 | 5人家族行</title>

  <!-- 舊版 UI 基底 -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Noto Sans TC', sans-serif; background-color: #fdfbf7; color: #4a4a4a; }
    .card-shadow { box-shadow: 0 4px 12px rgba(0,0,0,0.06); }

    /* Top nav tabs */
    .tab-active { border-bottom: 3px solid #d4a373; color: #d4a373; font-weight: 700; }
    .tab-inactive { border-bottom: 3px solid transparent; color: #6b7280; }

    /* Horizontal pill tabs */
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

    /* Ship pills */
    .pill { transition: all .15s ease; }
    .pill-active { background: #d4a373; color: #fff; box-shadow: 0 6px 16px rgba(212,163,115,.25); }
    .pill-inactive { background: #e5e7eb; color: #374151; }
    .pill-inactive:hover { background: #d1d5db; }

    /* Port step list */
    .step-item { transition: all .15s ease; }
    .step-active { border-color: #d4a373; background: #fff7ed; }
    .step-active .step-index { background: #d4a373; color: #fff; }
    .step-inactive { border-color: #e5e7eb; background: #fff; }
    .step-inactive:hover { background: #f9fafb; }
    .step-index {
      width: 28px; height: 28px; border-radius: 999px;
      display:flex; align-items:center; justify-content:center;
      font-weight:700; font-size: 12px;
      background:#f3f4f6; color:#6b7280;
      flex: 0 0 auto;
    }

    table { border-collapse: collapse; }
  </style>
</head>

<body class="min-h-screen flex flex-col">

  <!-- Navigation -->
  <nav class="sticky top-0 z-50 bg-white shadow-sm border-b border-[#e5e5e5]">
    <div class="max-w-6xl mx-auto px-4">
      <div class="flex justify-between items-center h-16">
        <div class="font-bold text-xl text-[#d4a373] tracking-wide">
          FamilyVoyage
          <span class="text-xs text-gray-400 block sm:inline font-normal">沖繩3天2夜 | 5人家族行</span>
        </div>

        <!-- Desktop Tabs -->
        <div class="hidden md:flex space-x-8">
          <button type="button" onclick="switchTab('dashboard')" id="nav-dashboard" class="tab-active py-5 px-2 transition-colors duration-200">總覽 & 清單</button>
          <button type="button" onclick="switchTab('port')" id="nav-port" class="tab-inactive py-5 px-2 transition-colors duration-200">基隆港流程</button>
          <button type="button" onclick="switchTab('ship')" id="nav-ship" class="tab-inactive py-5 px-2 transition-colors duration-200">郵輪設施</button>
          <button type="button" onclick="switchTab('charter')" id="nav-charter" class="tab-inactive py-5 px-2 transition-colors duration-200">沖繩包車資訊</button>
          <button type="button" onclick="switchTab('spots')" id="nav-spots" class="tab-inactive py-5 px-2 transition-colors duration-200">行程景點</button>
        </div>

        <!-- Mobile Menu Button -->
        <button type="button" onclick="toggleMobileMenu()" class="md:hidden text-gray-500 focus:outline-none" aria-label="開啟選單">
          <span class="text-2xl">☰</span>
        </button>
      </div>

      <!-- Mobile Menu -->
      <div id="mobile-menu" class="hidden md:hidden pb-4">
        <button type="button" onclick="switchTab('dashboard')" class="block w-full text-left py-2 px-4 hover:bg-gray-50">總覽 & 清單</button>
        <button type="button" onclick="switchTab('port')" class="block w-full text-left py-2 px-4 hover:bg-gray-50">基隆港流程</button>
        <button type="button" onclick="switchTab('ship')" class="block w-full text-left py-2 px-4 hover:bg-gray-50">郵輪設施</button>
        <button type="button" onclick="switchTab('charter')" class="block w-full text-left py-2 px-4 hover:bg-gray-50">沖繩包車資訊</button>
        <button type="button" onclick="switchTab('spots')" class="block w-full text-left py-2 px-4 hover:bg-gray-50">行程景點</button>
      </div>
    </div>
  </nav>

  <main class="flex-grow max-w-6xl mx-auto px-4 py-6 space-y-6">

    <!-- 1: DASHBOARD -->
    <section id="view-dashboard" class="space-y-8">
      <div class="bg-white p-6 rounded-xl card-shadow border-l-4 border-[#d4a373]">
        <h2 class="text-2xl font-bold text-gray-800">歡迎來到麗星郵輪-沖繩旅遊筆記</h2>
        <p class="mt-2 text-gray-600">整合所有重要資訊，方便隨時回來查看。</p>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Checklist -->
        <div class="bg-white p-6 rounded-xl card-shadow">
          <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center"><span class="mr-2">📋</span> 出發前必備清單</h2>
          <div class="space-y-3" id="checklist-container"></div>
          <p class="mt-4 text-xs text-gray-500">✔ 勾選狀態會自動儲存（重新整理不會消失）</p>
        </div>

        <!-- Itinerary Overview -->
        <div class="bg-white p-6 rounded-xl card-shadow">
          <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center"><span class="mr-2">🗓️</span> 行程概覽</h2>
          <ul class="list-disc pl-5 space-y-2 text-gray-700 text-sm">
            <li><strong>Day 1：</strong>基隆港登船（啟航 15:00；報到 11:00~13:00）</li>
            <li><strong>Day 2：</strong>沖繩那霸(若狹碼頭)（抵達 TW 10:00 / JP 11:00；啟航 TW 20:00 / JP 21:00）</li>
            <li><strong>Day 3：</strong>返抵基隆（抵達 15:00）</li>
          </ul>
          <div class="mt-4 bg-yellow-50 p-4 rounded-lg border border-yellow-200">
            <p class="text-sm text-gray-700"><strong>注意：</strong>Day 2 岸上約 8~10 小時，需嚴格控管包車時間，建議保留回港口緩衝。</p>
          </div>
        </div>
      </div>
    </section>

    <!-- 2: PORT (左選單 + 右內容) -->
    <section id="view-port" class="hidden space-y-8">
      <div class="bg-white p-6 rounded-xl card-shadow border-l-4 border-[#d4a373]">
        <h2 class="text-2xl font-bold text-gray-800 flex items-center">
          <span class="mr-2">⚓</span> 基隆港登船攻略
        </h2>
        <p class="mt-2 text-gray-600">登船地點：西岸旅客服務中心(基隆市仁愛區港西街16號)。</p>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Left selectable list -->
        <div class="bg-white p-6 rounded-xl card-shadow">
          <h3 class="text-lg font-bold text-gray-800 mb-4">登船流程摘要（時間皆為預估）</h3>
          <div id="port-step-list" class="space-y-3"></div>
          <p class="mt-4 text-xs text-gray-500">提示：點左側項目，右側會顯示該項完整內容。</p>
        </div>

        <!-- Right detail panel -->
        <div class="bg-white p-6 rounded-xl card-shadow">
          <div id="port-step-detail"></div>
        </div>
      </div>

      <!-- Traffic cards -->
      <div class="bg-white p-6 rounded-xl card-shadow">
        <h3 class="text-xl font-bold text-gray-800 mb-3">交通與接送行程</h3>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
            <h4 class="font-bold text-gray-800 mb-2">包車接送（搭船）</h4>
            <ul class="list-disc pl-5 space-y-2 text-sm text-gray-700">
              <li><strong>交通：</strong>高鐵南港站，包車（tripool-旅步）接送直達西岸碼頭</li>
              <li><strong>時間：</strong>2 月 25 日 10:30</li>
              <li><strong>聯絡資訊：</strong><span class="text-gray-400">（待補）</span></li>
            </ul>
          </div>

          <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
            <h4 class="font-bold text-gray-800 mb-2">預計：火車（下船）</h4>
            <p class="text-sm text-gray-700">基隆車站北站出口步行 5 分鐘，搭乘火車至高鐵南港站。</p>
            <div class="mt-3 text-xs text-gray-500">（可選補充）集合點、備援點、雨備、長輩步行注意事項…</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 3: SHIP (pills 高亮 + WiFi 表格自適應 + 餐廳/注意/備用資料顯示) -->
    <section id="view-ship" class="hidden space-y-8">
      <div class="bg-white p-6 rounded-xl card-shadow border-l-4 border-[#d4a373]">
        <h2 class="text-2xl font-bold text-gray-800 flex items-center">
          <span class="mr-2">🚢</span> 探索星號（名勝世界壹號）設施概覽
        </h2>
        <p class="mt-2 text-gray-600">船上消費幣別：台幣 TWD。船上幾乎所有指示、菜單、廣播、服務人員都能講中文，完全不用怕語言障礙。</p>
      </div>

      <div class="bg-white p-6 rounded-xl card-shadow">
        <h3 class="text-xl font-bold text-gray-800 mb-4">重點資訊</h3>

        <!-- Pills -->
        <div class="flex space-x-2 overflow-x-auto no-scrollbar pb-2" id="ship-pill-bar">
          <button type="button" data-cat="dining" onclick="filterShipInfo('dining')" class="pill pill-active px-4 py-2 rounded-full text-sm whitespace-nowrap">🍽️ 餐廳飲食</button>
          <button type="button" data-cat="wifi" onclick="filterShipInfo('wifi')" class="pill pill-inactive px-4 py-2 rounded-full text-sm whitespace-nowrap">📶 WiFi 網路</button>
          <button type="button" data-cat="tips" onclick="filterShipInfo('tips')" class="pill pill-inactive px-4 py-2 rounded-full text-sm whitespace-nowrap">💡 重要注意事項</button>
          <button type="button" data-cat="ub" onclick="filterShipInfo('ub')" class="pill pill-inactive px-4 py-2 rounded-full text-sm whitespace-nowrap">🧩 備用欄位</button>
        </div>

        <!-- Content area -->
        <div id="ship-content-area" class="mt-4"></div>
      </div>
    </section>

    <!-- 4: CHARTER -->
    <section id="view-charter" class="hidden space-y-8">
      <div class="bg-white p-6 rounded-xl card-shadow border-l-4 border-[#d4a373]">
        <h2 class="text-2xl font-bold text-gray-800">🚐 沖繩那霸：舒適包車一日遊</h2>
        <p class="mt-2 text-gray-600">因有長輩與幼童，且岸上時間約 8~10 小時，建議以「包車」為主，避免頻繁轉乘消耗體力。</p>
      </div>

      <div class="bg-white p-6 rounded-xl card-shadow">
        <h3 class="text-xl font-bold text-gray-800 mb-4">包車：行腳沖繩</h3>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <h4 class="font-bold text-gray-800 mb-2">包車資訊：6 人座車型</h4>
            <ul class="space-y-3 text-sm text-gray-700">
              <li class="flex items-start"><span class="text-green-500 mr-2">✓</span> <strong>車型：</strong>Alphard（或同級車）</li>
              <li class="flex items-start"><span class="text-green-500 mr-2">✓</span> <strong>包車時間：</strong>8 小時（中文司機）</li>
              <li class="flex items-start"><span class="text-green-500 mr-2">✓</span> <strong>兒童座椅：</strong>5 歲（免費）</li>
              <li class="flex items-start"><span class="text-green-500 mr-2">✓</span> <strong>司機聯絡資訊：</strong>(待補)</li>
            </ul>
          </div>

          <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
            <h4 class="font-bold text-red-600 text-sm mb-2">⚠️ 注意事項</h4>
            <ul class="list-disc pl-5 space-y-2 text-xs text-gray-700">
              <li>天氣原因郵輪出發但無法登陸岸上，可免費取消。</li>
              <li>除飲用水之外車內不能飲食；若必須飲食請先徵求司機同意。</li>
              <li>司機訊息會在出行前一天以 LINE 聯繫。</li>
              <li>超時 1 小時為 3,000 日幣。</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- 5: SPOTS -->
    <section id="view-spots" class="hidden space-y-8">
      <div class="bg-white p-6 rounded-xl card-shadow border-l-4 border-[#d4a373]">
        <h2 class="text-2xl font-bold text-gray-800">📍 行程景點（依行程排序）</h2>
        <p class="mt-2 text-gray-600">先把框架固定，Google Map / 餐食 / 車程時間可逐步補齊。</p>
      </div>

      <div class="bg-white p-6 rounded-xl card-shadow">
         <h3 class="text-lg font-bold text-gray-800">行程 1：泊港漁市場</h3>
          <div class="mt-3 grid grid-cols-1 md:grid-cols-3 gap-3 text-sm">
            <div class="bg-gray-50 p-3 rounded-lg border"><strong>Google Map：</strong><span class="text-gray-400"><a href="https://maps.app.goo.gl/uV2xBbRAy1xGMV6bA">MAP(連結點選)</a></span></div>
            <div class="bg-gray-50 p-3 rounded-lg border"><strong>餐食：</strong><span class="text-gray-400">
                <ul>
                  <li>大國海產(有會中文的店員及中文菜單)</li>
                  <li>中真水產 (有會中文的店員及中文菜單)</li>
                </ul>
              </span></div>
            <div class="bg-gray-50 p-3 rounded-lg border"><strong>車程時間預估：</strong><span class="text-gray-400">從若狹碼頭停車場出發：開車約12分鐘</span></div>
          </div>
        </div>

        <div class="bg-white p-6 rounded-xl card-shadow">
          <h3 class="text-lg font-bold text-gray-800">行程 2：波上宮</h3>
          <div class="mt-3 grid grid-cols-1 md:grid-cols-3 gap-3 text-sm">
            <div class="bg-gray-50 p-3 rounded-lg border"><strong>Google Map：</strong><span class="text-gray-400"><a href="https://maps.app.goo.gl/ZvyBZ7yXo1AruGbM8">MAP(連結點選)</a></span></div>
            <div class="bg-gray-50 p-3 rounded-lg border"><strong>餐食：</strong><span class="text-gray-400">
                <ul>
                  <li><a href="https://maps.app.goo.gl/weVR65bwRax8o62dA">高良食堂(連結點選)</a>(2/7確認是否星期四公休)</li>
                  <li><a href="https://maps.app.goo.gl/2xbSmAyp6DrC9ypH8">全家便利商店 久米西武門店 (臨時補食物地點(連結點選))</a></li>
                </ul>
              </span></div>
            <div class="bg-gray-50 p-3 rounded-lg border"><strong>車程時間預估：</strong><span class="text-gray-400">從泊港漁市場出發：開車約12分鐘</span></div>
          </div>
        </div>

        <div class="bg-white p-6 rounded-xl card-shadow">
          <h3 class="text-lg font-bold text-gray-800">行程 3：識名園</h3>
          <div class="mt-3 grid grid-cols-1 md:grid-cols-3 gap-3 text-sm">
            <div class="bg-gray-50 p-3 rounded-lg border"><strong>Google Map：</strong><span class="text-gray-400"><a href="https://maps.app.goo.gl/H1DYdwWq9Cj3cC3g7">MAP(連結點選)</a></span></div>
            <div class="bg-gray-50 p-3 rounded-lg border"><strong>說明：</strong><span class="text-gray-400">
                <ul>
                  <li>營業時間：09：00 - 17：30</li>
                  <li>門票：大人400日圓、國中以下200日圓</li>
                </ul>
              </span></div>
            <div class="bg-gray-50 p-3 rounded-lg border"><strong>車程時間預估：</strong><span class="text-gray-400">從波上宮出發：開車約27分鐘</span></div>
          </div>
        </div>

         <div class="bg-white p-6 rounded-xl card-shadow">
             <h3 class="text-lg font-bold text-gray-800">行程 4：瀨長島</h3>
             <div class="mt-3 grid grid-cols-1 md:grid-cols-3 gap-3 text-sm">
                 <div class="bg-gray-50 p-3 rounded-lg border"><strong>Google Map：</strong><span class="text-gray-400"><a href="https://maps.app.goo.gl/7jLEkPb16KNszjRx5">MAP(連結點選)</a></span></div>
                 <div class="bg-gray-50 p-3 rounded-lg border"><strong>餐食：</strong><span class="text-gray-400">
                     <ul>
                       <li><a href="https://maps.app.goo.gl/7jLEkPb16KNszjRx5">MKCAFE ウミカジテラス 沖縄店(連結點選)</a>(漢堡：金槍魚、鯖魚、鮪魚；海葡萄)</li>
                       <li><a href="https://maps.app.goo.gl/ggypENN5LXo3zfre6">Philly Kingrolls(墨西哥夾餅餐廳)(連結點選)</a>(漢堡、TACO飯)</li>
                       <li><a href="https://maps.app.goo.gl/c3LtzaoJB3iodUJn9">瀬長珈琲(連結點選)</a></li>
                     </ul>
                   </span></div>
                 <div class="bg-gray-50 p-3 rounded-lg border"><strong>車程時間預估：</strong><span class="text-gray-400">從識名園出發：開車約40分鐘</span></div>
             </div>
         </div>

         <div class="bg-white p-6 rounded-xl card-shadow">
             <h3 class="text-lg font-bold text-gray-800">行程 5：國際通（時間允許）</h3>
             <div class="mt-3 grid grid-cols-1 md:grid-cols-3 gap-3 text-sm">
                 <div class="bg-gray-50 p-3 rounded-lg border"><strong>Google Map：</strong><span class="text-gray-400"><a href="https://maps.app.goo.gl/tZeNwUxbzUa1Hkrx9">MAP(商店街)</a></span></div>
                 <div class="bg-gray-50 p-3 rounded-lg border"><strong>餐食：</strong><span class="text-gray-400">
                     <ul>
                       <li><a href="https://maps.app.goo.gl/BVNnN23L4raceWyD8">ポーたま 牧志市場店(Pork Tamago 飯糰)(連結點選)</a>(營業時間到20：00)</li>
                       <li><a href="https://maps.app.goo.gl/xM1cJxr1wb3DNXjs6">波照間 国際通り店(連結點選)</a>(沖繩麵、阿古豬料理、苦瓜炒蛋/炒苦瓜豆腐、生魚片)</li>
                       <li><a href="https://maps.app.goo.gl/isp5aZVjr8Rq8HyQA">大東そば 国際通り店(元祖大東沖繩麵)(連結點選)</a>(麵條：細麵)</li>
                       <li><a href="https://maps.app.goo.gl/uUFEJ1phWdaU8seP9">ドン・キホーテ 国際通り店(國際通最大的唐吉訶德)(連結點選)</a>(一樓有許多沖繩限定商品)</li>
                       <li><a href="https://maps.app.goo.gl/g9MMF1RK7UHuuE2u9">全家便利商店 國際通中央店(連結點選)</a></li>
                       <li><a href="https://maps.app.goo.gl/Z9FT7QBPZrLPFaq3A">7-Eleven 國際通沖繩旅遊大樓店(連結點選)</a></li>
                       <li><a href="https://maps.app.goo.gl/789PoAMypu2kgDPy9">Lawson 國際通松尾店(連結點選)</a></li>
                     </ul>
                   </span></div>
                 <div class="bg-gray-50 p-3 rounded-lg border"><strong>車程時間預估：</strong><span class="text-gray-400">從瀨長島出發：開車約25分鐘</span></div>
             </div>
         </div>

         <div class="bg-white p-6 rounded-xl card-shadow">
             <h3 class="text-lg font-bold text-gray-800">行程 6：回港口（時間不夠 / 回程緩衝）</h3>
             <div class="mt-3 grid grid-cols-1 md:grid-cols-3 gap-3 text-sm">
               <div class="bg-gray-50 p-3 rounded-lg border"><strong>伴手禮店：</strong><span class="text-gray-400"><a href="https://maps.app.goo.gl/3uNfQ1DDB7HRpf7g7">マックスバリュ若狭店(MaxValu超市)(連結點選)</a></span></div>
               <div class="mt-3 bg-yellow-50 p-3 rounded-lg border border-yellow-200 text-sm text-gray-700">
                   <strong>車程時間預估：</strong><span class="text-gray-400">從瀨長島出發：開車約18分鐘</span>
                   <p class="mt-2 text-xs text-gray-600"><strong>提醒：</strong>建議保留回港口緩衝（塞車、停車、集合走路時間）。</p>
               </div>
             </div>
         </div>
      </div>
    </section>

  </main>

  <footer class="bg-white border-t border-[#e5e5e5]">
    <div class="max-w-6xl mx-auto px-4 py-6 text-sm text-gray-500">© 2026 Family Trip Guide</div>
  </footer>

  <script>
    // -----------------------------
    // State
    // -----------------------------
    const state = {
      activeTab: 'dashboard',
      shipCategory: 'dining',
      portStepIndex: 0
    };

    // -----------------------------
    // Checklist
    // -----------------------------
    const checklistItems = [
      "日幣現金",
      "護照正本 (有效期6個月以上)",
      "護照 A4 影本 x 2份 (報到與免稅用)",
      "船票 (電子檔或列印)",
      "信用卡 (Visa/Master，船上綁定用)",
      "個人常備藥品 (暈船藥、感冒藥等)",
      "日本網路漫遊開通",
      "舒適好走的鞋子",
      "薄外套"
    ];

    function renderChecklist() {
      const container = document.getElementById('checklist-container');
      if (!container) return;

      const STORAGE_KEY = 'okinawa_trip_checklist_v1';
      let saved = {};
      try { saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}'); } catch { saved = {}; }

      container.innerHTML = checklistItems.map((item, idx) => {
        const id = `ck-${idx}`;
        const checked = saved[id] ? 'checked' : '';
        return `
          <div class="flex items-center">
            <input id="${id}" type="checkbox" ${checked}
                   class="w-5 h-5 text-[#d4a373] rounded border-gray-300 focus:ring-[#d4a373]">
            <label for="${id}" class="ml-3 text-gray-700 cursor-pointer">${item}</label>
          </div>
        `;
      }).join('');

      checklistItems.forEach((_, idx) => {
        const id = `ck-${idx}`;
        const el = document.getElementById(id);
        if (!el) return;
        el.addEventListener('change', (e) => {
          saved[id] = e.target.checked;
          localStorage.setItem(STORAGE_KEY, JSON.stringify(saved));
        });
      });
    }

    // -----------------------------
    // Mobile menu
    // -----------------------------
    function toggleMobileMenu() {
      const menu = document.getElementById('mobile-menu');
      if (menu) menu.classList.toggle('hidden');
    }

    // -----------------------------
    // Top tabs
    // -----------------------------
    function switchTab(tabId) {
      state.activeTab = tabId;
      const ids = ['dashboard', 'port', 'ship', 'charter', 'spots'];

      ids.forEach(id => {
        const section = document.getElementById(`view-${id}`);
        const btn = document.getElementById(`nav-${id}`);
        if (!section || !btn) return;

        if (id === tabId) {
          section.classList.remove('hidden');
          btn.classList.remove('tab-inactive');
          btn.classList.add('tab-active');
        } else {
          section.classList.add('hidden');
          btn.classList.remove('tab-active');
          btn.classList.add('tab-inactive');
        }
      });

      // close mobile menu after switching
      const menu = document.getElementById('mobile-menu');
      if (menu && !menu.classList.contains('hidden')) menu.classList.add('hidden');

      // ensure section render
      if (tabId === 'port') renderPortSteps();
      if (tabId === 'ship') {
        setShipPillActive(state.shipCategory);
        renderShipInfo(state.shipCategory);
      }
    }

    // -----------------------------
    // PORT: left select + right detail
    // -----------------------------
    const portSteps = [
      {
        title: "抵達與行李",
        time: "11:00-12:30",
        summary: "抵達碼頭、托運/整理行李、確認證件與資料。",
        details: [
          "行李拖運地點：基隆港西岸旅客中心 1 樓後方",          
          "託運完會拿到【行李保管聯】，行李條會繫在行李上面，不可拆下。",
          "行李：分出「隨身包」與「托運/交寄」物品。",
          "可能可以提早托運行李、報到，就可以上船吃午餐逛逛。"
        ]
      },
      {
        title: "報到領房卡",
        time: "12:30-13:30",
        summary: "辦理報到、綁定信用卡/付款方式、領取房卡。",
        details: [
          "依照動線指示上2樓，憑【 護照正本 + 護照影本 + 船票 】辦理報到手續",
          "完成報到手續會領到：【 行李託運條、登船卡(房卡)、海關申報單、日本入境卡 】",
          "房卡的掛繩要自備，他不會主動給。",
          "船上消費通常會綁定信用卡（Visa/Master）。",
          "領到房卡後：確認房號、集合須知等。"
        ]
      },
      {
        title: "通關與登船",
        time: "13:30-14:30",
        summary: "通關檢查、安檢後登船，確認動線與集合點。",
        details: [
          "依現場指示排隊通關：出示【 護照正本 】及 【 登船卡(房卡) 】。",
          "登船時船員會收走護照正本及日本入境卡，並提供房卡讓船員協助開卡",
          "注意：上下郵輪皆須【過卡】"
        ]
      },
      {
        title: "登船注意事項",
        time: "Day 1-3",
        summary: "登船期間的注意事項。",
        details: [
          "房卡【每人一張】，請隨身攜帶，不慎遺失須至7樓接待處報遺失並補發新卡。",
          "房卡功用：登船通行、倉房鑰匙、身分證明、餐廳通行證、消費記帳卡。",
          "兒童的房卡若怕誤刷購物，可以至7樓接待處進行鎖卡。",
          "登船後熟悉：電梯、餐廳、醫務室、集合點。",
          "登船後務必參加安全演習，此為強制性活動。",
          "每天7F櫃檯都有隔天的行程表，可以去領取。",
          "若有 WiFi/付費服務需求，去7樓接待處申請。"
        ]
      },
            {
        title: "日本入境通關",
        time: "Day 2",
        summary: "日本入境通關流程。",
        details: [
          "通關所需資料：【 護照影本 + 登船卡(房卡) + 日本海關申報單】。",
          "請依路線指示辦理入境，將護照影本交給船上工作人員，會在影本背面貼上【船舶觀光上陸許可書】。",
          "將護照影本、海關申報單交給海關人員查驗，要在櫃台前按指紋，接著在許可書蓋入境章，完成通關。"
        ]
      },
      {
        title: "離船流程",
        time: "Day 3",
        summary: "返抵基隆後依指示下船、領取行李、銜接交通。",
        details: [
          "前一天晚上房間會收到離岸通知，到7樓櫃檯結清船上所有消費。。",
          "郵輪會廣播通知【領回證件】，可代辦領取：【帶齊所有人的房卡】",
          "依船方公告的下船批次與指示行動：指定時間內前往指定地點辦離船、退房手續。",
          "DCard有網友說「回台灣下船也不用按照分樓層的表定時間，都是誰先到誰排隊」。",          
          "確認隨身物品：房卡、手機、護照、充電器等。",
          "下船後按既定計畫搭火車或包車回南港。"
        ]
      }
    ];

    function renderPortSteps() {
      const listEl = document.getElementById('port-step-list');
      const detailEl = document.getElementById('port-step-detail');
      if (!listEl || !detailEl) return;

      listEl.innerHTML = portSteps.map((s, idx) => {
        const isActive = idx === state.portStepIndex;
        return `
          <button type="button"
            class="step-item w-full text-left border rounded-xl p-4 flex gap-3 items-start ${isActive ? 'step-active' : 'step-inactive'}"
            onclick="selectPortStep(${idx})">
            <div class="step-index">${idx + 1}</div>
            <div class="flex-1">
              <div class="flex items-center justify-between gap-3">
                <div class="font-bold text-gray-800">${s.title}</div>
                <div class="text-xs text-gray-500">${s.time}</div>
              </div>
              <div class="mt-1 text-sm text-gray-600">${s.summary}</div>
            </div>
          </button>
        `;
      }).join('');

      const s = portSteps[state.portStepIndex];
      detailEl.innerHTML = `
        <div class="border-l-4 border-[#d4a373] bg-white rounded-xl p-1">
          <div class="p-4">
            <div class="flex items-start gap-3">
              <div class="text-2xl">🧾</div>
              <div class="flex-1">
                <h3 class="text-xl font-bold text-gray-800">${s.title}</h3>
                <p class="text-sm text-gray-500 mt-1">${s.time}</p>
                <p class="text-sm text-gray-700 mt-3">${s.summary}</p>
                <div class="mt-4 bg-gray-50 border border-gray-200 rounded-lg p-4">
                  <div class="font-bold text-gray-800 text-sm mb-2">完整內容</div>
                  <ul class="list-disc pl-5 space-y-2 text-sm text-gray-700">
                    ${s.details.map(x => `<li>${x}</li>`).join('')}
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function selectPortStep(idx) {
      state.portStepIndex = idx;
      renderPortSteps();
    }

    // -----------------------------
    // SHIP: data (已加入你提供的 dining/tips/ub)
    // -----------------------------
    const shipData = {
      dining: [
        { title: "麗都自助餐 (The Lido)", type: "免費", desc: "位於12樓船尾。提供多國料理的自助餐（Buffet），菜色種類最多，包含沙拉、熱食、甜點、水果等。自由取餐、宵夜時段也有開放" },
        { title: "星夢餐廳 (Dream Dining)", type: "免費", desc: "位於6樓船尾，空間較大，提供西式或中式套餐（Set Menu）。早餐評價不錯，午晚餐通常是配好的套餐，若食量大可以加點主餐或特定菜色。" },
        { title: "百味軒 (Pavilion)", type: "免費", desc: "位於6樓船中，裝潢偏中式，提供中式合菜或西式套餐。可以單點喜歡的前菜或主餐多吃幾份。" },
        { title: "絲路花舞 (Silk Road)", type: "付費", desc: "位於7樓船中，精緻中式料理與港式點心，裝潢帶有復古舞廳感。早餐時段有提供付費的港式飲茶套餐。" },
        { title: "藍湖美食 (Blue Lagoon)", type: "付費", desc: "位於7樓船中（大廳旁），供東南亞與中式料理，如肉骨茶、沙嗲、牛肉麵、炒粿條等。營業時間最長（通常僅凌晨 4-6 點休息）" },
        { title: "火鍋 (Hot Pot)", type: "付費", desc: "位於8樓船尾，提供鴛鴦鍋與自助夾取的蔬菜、火鍋料，適合喜歡喝熱湯的旅客。" },
        { title: "義大利披薩餐廳 (Mozzarella Ristorante & Pizzeria)", type: "付費", desc: "位於7樓船中，提供現烤披薩（餅皮有嚼勁）與義大利麵。" },
        { title: "海馬日本料理 / 鐵板燒 (Umi Uma)", type: "付費", desc: "位於8樓船尾，提供日式定食、壽司與鐵板燒。鐵板燒座位極少，建議一上船就預約。" },
        { title: "大堂咖啡", type: "付費", desc: "位於7樓，麵包與糕點，每晚 10點後有買一送一 優惠，適合買來當隔天早餐或點心。" },
        { title: "免費餐廳規則", type: "注意", desc: "同一餐期通常只能選擇一間免費餐廳用餐，若去第二間可能會被刷卡收費。" },
        { title: "查看菜單", type: "注意", desc: "可以透過船上的 App 或餐廳門口的電子看板，先查看當天的菜單再決定要去哪一間吃。" },
        { title: "隱藏版宵夜", type: "注意", desc: "賭場內在深夜時段（約 11 點後）有時會提供免費的限量泡麵與檸檬水。" }
      ],
      tips: [
        { title: "台式插座電壓", type: "注意", desc: "房間內配有美式兩孔扁插座，這與台灣一般插座規格相同。" },
        { title: "英式插座電壓", type: "注意", desc: "房間內也有配備英式（港式）的三腳扁型插座，需要萬國轉接頭。" },
        { title: "電壓", type: "注意", desc: "船上的電壓為 220V - 240V，目前的 3C 產品充電器通常支援國際電壓（100V-240V），可以直接攜帶台灣的手機充電器去充電。" },
        { title: "USB 插孔", type: "注意", desc: "房間書桌處配有 USB 充電孔（Type-A，即傳統長方形的那種），建議自備轉接頭或 USB-A 的充電線。" },
        { title: "飲用水", type: "注意", desc: "房間內瓶裝水免費，喝完可請房務補。船上提供多處免費的飲用水源，建議您可以攜帶保溫瓶或水壺以便裝水回房間飲用。" },
        { title: "暈船", type: "健康", desc: "沖繩航線通常平穩，但建議第一晚睡前先吃暈船藥預防。" }
      ],
      ub: [
        { title: "-", type: "注意", desc: "-。" },
        { title: "-", type: "注意", desc: "-。" },
        { title: "-", type: "注意", desc: "-。" },
        { title: "-", type: "注意", desc: "-。" },
        { title: "-", type: "注意", desc: "-。" },
        { title: "-", type: "健康", desc: "-。" }
      ]
    };

    function badgeColor(type) {
      if (type === '免費') return 'bg-green-100 text-green-800';
      if (type === '付費') return 'bg-red-100 text-red-800';
      if (type === '健康') return 'bg-blue-100 text-blue-800';
      if (type === '注意') return 'bg-yellow-100 text-yellow-800';
      return 'bg-gray-100 text-gray-800';
    }

    function setShipPillActive(category) {
      const bar = document.getElementById('ship-pill-bar');
      if (!bar) return;
      bar.querySelectorAll('button[data-cat]').forEach(btn => {
        const cat = btn.getAttribute('data-cat');
        if (cat === category) {
          btn.classList.remove('pill-inactive');
          btn.classList.add('pill-active');
        } else {
          btn.classList.remove('pill-active');
          btn.classList.add('pill-inactive');
        }
      });
    }

    function filterShipInfo(category) {
      state.shipCategory = category;
      setShipPillActive(category);
      renderShipInfo(category);
    }

    function renderShipCards(items) {
      // 卡片版：符合你紅框預期（顯示實際餐廳/注意事項資料）
      return `
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
          ${items.map(x => `
            <div class="bg-gray-50 border border-gray-200 rounded-xl p-5 hover:border-[#d4a373] transition-colors">
              <div class="flex items-start justify-between gap-3">
                <h4 class="font-bold text-gray-800 text-base">${x.title}</h4>
                <span class="text-xs font-bold px-2 py-1 rounded ${badgeColor(x.type)}">${x.type}</span>
              </div>
              <p class="mt-2 text-sm text-gray-700 leading-relaxed">${x.desc}</p>
            </div>
          `).join('')}
        </div>
      `;
    }

    function renderShipInfo(category) {
      const container = document.getElementById('ship-content-area');
      if (!container) return;

      if (category === 'wifi') {
        // WiFi 表格：寬度自動延展，小螢幕可橫滑
        container.innerHTML = `
          <div class="bg-white rounded-xl border border-gray-200 p-5">
            <div class="flex items-center justify-between">
              <h4 class="font-bold text-gray-800 text-lg">WiFi 方案價格（新台幣 NTD）</h4>
              <span class="text-xs font-bold px-2 py-1 rounded bg-yellow-100 text-yellow-800">資訊</span>
            </div>
            <p class="mt-2 text-sm text-gray-600">表格會隨畫面寬度延展；手機上可左右滑動查看。</p>

            <div class="mt-4 overflow-x-auto">
              <table class="w-full text-sm bg-white">
                <thead>
                  <tr class="bg-gray-50">
                    <th class="p-2 border text-center">方案</th>
                    <th class="p-2 border text-center">網速</th>
                    <th class="p-2 border text-center">設備</th>
                    <th class="p-2 border text-center">兩晚</th>
                    <th class="p-2 border text-center">三晚</th>
                    <th class="p-2 border text-center">五晚</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="p-2 border text-center" rowspan="4">標準</td>
                    <td class="p-2 border text-center" rowspan="4">基本</td>
                    <td class="p-2 border text-center">一台</td>
                    <td class="p-2 border text-center">NTD 490</td>
                    <td class="p-2 border text-center">NTD 735</td>
                    <td class="p-2 border text-center">NTD 1,225</td>
                  </tr>
                  <tr>
                    <td class="p-2 border text-center">兩台</td>
                    <td class="p-2 border text-center">NTD 906</td>
                    <td class="p-2 border text-center">NTD 1,359</td>
                    <td class="p-2 border text-center">NTD 2,265</td>
                  </tr>
                  <tr>
                    <td class="p-2 border text-center">三台</td>
                    <td class="p-2 border text-center">NTD 1,238</td>
                    <td class="p-2 border text-center">NTD 1,857</td>
                    <td class="p-2 border text-center">NTD 3,095</td>
                  </tr>
                  <tr>
                    <td class="p-2 border text-center">四台</td>
                    <td class="p-2 border text-center">NTD 1,578</td>
                    <td class="p-2 border text-center">NTD 2,367</td>
                    <td class="p-2 border text-center">NTD 3,945</td>
                  </tr>

                  <tr>
                    <td class="p-2 border text-center" rowspan="4">尊貴</td>
                    <td class="p-2 border text-center" rowspan="4">良好</td>
                    <td class="p-2 border text-center">一台</td>
                    <td class="p-2 border text-center">NTD 714</td>
                    <td class="p-2 border text-center">NTD 1,071</td>
                    <td class="p-2 border text-center">NTD 1,785</td>
                  </tr>
                  <tr>
                    <td class="p-2 border text-center">兩台</td>
                    <td class="p-2 border text-center">NTD 1,288</td>
                    <td class="p-2 border text-center">NTD 1,932</td>
                    <td class="p-2 border text-center">NTD 3,220</td>
                  </tr>
                  <tr>
                    <td class="p-2 border text-center">三台</td>
                    <td class="p-2 border text-center">NTD 1,810</td>
                    <td class="p-2 border text-center">NTD 2,715</td>
                    <td class="p-2 border text-center">NTD 4,525</td>
                  </tr>
                  <tr>
                    <td class="p-2 border text-center">四台</td>
                    <td class="p-2 border text-center">NTD 2,384</td>
                    <td class="p-2 border text-center">NTD 3,576</td>
                    <td class="p-2 border text-center">NTD 5,960</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <p class="mt-4 text-xs text-gray-500">提示：若你最後確定住幾晚，可加上「自動高亮欄位」或「合計估算」。</p>
          </div>
        `;
        return;
      }

      // dining / tips / ub：用卡片顯示完整資料（你紅框想要的）
      const items = shipData[category] || [];
      container.innerHTML = renderShipCards(items);
    }

    // -----------------------------
    // Init
    // -----------------------------
    document.addEventListener('DOMContentLoaded', () => {
      renderChecklist();
      renderPortSteps();
      setShipPillActive(state.shipCategory);
      renderShipInfo(state.shipCategory);
    });
  </script>

</body>
</html>




